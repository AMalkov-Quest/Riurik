{% extends 'git-base.html' %}
{% load i18n %}
{% block javascripts %}
	{{ block.super }}

	<script type="text/javascript">
	$(function ($) {
		$("a.github").click(function (e) {
			e.preventDefault();	
			$('#github-dialogs').modal();	
		});		
	});

	function LogInWithGithub() {
		var githref = '{{ githref }}';
		window.location=githref + $('#scope').val();
	};
	</script>

{% endblock %}

{% block body %}
{{ block.super }}

<div id="github-dialogs" align="left" class="modal hide fade" tabindex="-1" role="dialog" aria-labelledby="accessLevelsLabel" aria-hidden="true">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
        <h3 id="accessLevelsLabel">Github access levels</h3>
    </div>
    <div class="modal-body">
    	<p>{% trans "The Riurik framework does not provide any storage service. But it uses GitHub for it. Any artifacts those are going to be created here will be stored in your GitHub repository. So to start using Riurik it is necessary to login with your existing GitHub account. GitHub requires to specify level of access that you are agree to grant to Riurik over your account. We recommend to allow Riurik updating your public repository in order to automate creating and configuring it. But of course you can select another read-only option and do all the required actions manually." %}</p>
    </div>
	<div class="modal-footer">
		<select id="scope">
			<option value="repo" selected>Update your public and private repositories</option>
			<option value="public_repo">Update your public repositories</option>
			<option value="">Read your public information</option>	
		</select>
        <button class="btn btn-primary agree" onClick="javascript:LogInWithGithub()">OK</button>
	</div>
</div>

{% endblock %}
