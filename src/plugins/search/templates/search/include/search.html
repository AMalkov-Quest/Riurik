{% load dir_index_tags %}
{% ifnotequal type 'front-page' %}
<style>
	.header #search {
		position: absolute;
		top: 7px;
		left: 150px;
	}
	.header #search form {
		position: relative;
		margin: 0;
	}
	.header #search input {
		width: 170px;
		height: 20px;
		background-color: white;
		padding: 2px 15px 2px 5px;
		border: 1px solid #CCC;
		border-radius: 3px;
	}
	.header #search input.default {
		color: #ccc;
	}
	.header #search .button {
		position: absolute;
		left: 175px;
		top: 1px;
		cursor: pointer;
		width: 10px;
		height: 10px;
		text-align: 0 auto; 
		padding: 5px 2px; 
		display: none;
	}
</style>
<div id="search">
	<script type="text/javascript">
		$(function(){
			var defaultText = 'Search', inp = $("#search input.text");
			inp.val(defaultText).addClass('default')
				.keypress(function(e){ 
					var code = (e.keyCode ? e.keyCode : e.which);
					if ( code == 13 ) $('#search form').submit(); 
				})
				.focus(function(){
					if ( inp.val() == defaultText ) inp.val('').removeClass('default');
				})
				.focusout(function(){
					if ( inp.val().length == 0 ) inp.val(defaultText).addClass('default');
				});
		});
	</script>
	<form action="/search" method="GET" target="search">
		<div class="button">&#9660;</div>
		<input type="text" class="text" name="search_pattern" value=""/>
		<input type="hidden" name="path" value="/{{ directory|strip:'/' }}" />
	</form>
</div>
{% endifnotequal %}
